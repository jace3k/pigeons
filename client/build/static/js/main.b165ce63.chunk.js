(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,a,t){e.exports=t(471)},263:function(e,a,t){},265:function(e,a,t){},471:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(26),l=t.n(i),o=(t(263),t(11)),s=t(12),c=t(15),m=t(13),u=t(14),d=(t(265),t(4)),p=t(106),h=t.n(p),E=t(68),g=t.n(E),f=t(47),b=t.n(f),y=t(23),v=t.n(y),w=t(193),k=t.n(w),j=t(192),O=t.n(j),C=t(86),S=t.n(C),N=t(105),x=t.n(N),T=t(41),A=t.n(T),D=t(111),I=t.n(D),R=t(112),_=t.n(R),L="Pigeon Aukcjia",U=r.a.createElement("div",{style:{textAlign:"center",width:"100%",color:"#AAA"}},"\xa9 ",L,"."),W=I.a[600],z=_.a[600],F=t(39),P=t.n(F),H=t(475);var K=function(e){var a=r.a.createElement(P.a,{color:"secondary",variant:"contained",size:"large"},e.children);return e.active||(a=r.a.createElement(P.a,{color:"inherit",size:"large",onClick:e.onClick},e.children)),r.a.createElement("div",null,r.a.createElement(H.a,{to:e.to,style:{textDecoration:"none",color:"inherit"}},a))},B=t(29),G=t(32),M=t.n(G),Z=function(e){e?M.a.defaults.headers.common.Authorization=e:delete M.a.defaults.headers.common.Authorization},q=t(114),V=t.n(q),J=function(e){return{type:"SET_CURRENT_USER",payload:e}},Y=function(){return function(e){localStorage.removeItem("jwtToken"),Z(!1),e(J({}))}},Q=t(40),X=t(16),$=t(107),ee=t.n($),ae=t(53),te=t.n(ae),ne=t(49),re=t.n(ne),ie=t(80),le=t.n(ie),oe=t(103),se=t.n(oe),ce=t(104),me=t.n(ce),ue=t(67),de=t.n(ue),pe=t(188),he=t.n(pe),Ee=t(148),ge=t.n(Ee),fe=t(194),be=t.n(fe),ye=t(189),ve=t.n(ye),we=t(190),ke=t.n(we),je=t(191),Oe=t.n(je),Ce=[{name:"Zaloguj",link:"/login",icon:r.a.createElement(de.a,null)},{name:"Za\u0142\xf3\u017c konto",link:"/register",icon:r.a.createElement(he.a,null)},{name:"Aukcje",link:"/",icon:r.a.createElement(ge.a,null)}],Se=[{name:"Profil",link:"/profile",icon:r.a.createElement(ve.a,null)},{name:"Wyloguj",link:"logout",icon:r.a.createElement(ke.a,null)}],Ne=[{name:"Dodaj Go\u0142\u0119bia",link:"/add",icon:r.a.createElement(Oe.a,null)},{name:"Aukcje",link:"/",icon:r.a.createElement(ge.a,null)}],xe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(i)))).state={anchorEl:null,currentTab:"main",isDrawerOpen:!1},t.handleProfile=function(e){t.setState({anchorEl:e.currentTarget})},t.handleMenuClose=function(){t.setState({anchorEl:null})},t.handleLogout=function(){t.setState({anchorEl:null}),t.props.logoutUser(),t.props.enqueueSnackbar("Zosta\u0142e\u015b wylogowany.",{variant:"warning"}),t.props.history.push("/")},t.toggleDrawer=function(){t.setState({isDrawerOpen:!t.state.isDrawerOpen})},t.activate=function(e){t.setState({currentTab:e})},t.makeListItems=function(e){return e.map(function(e){return r.a.createElement(le.a,{button:!0,key:e.name,onClick:function(){return"logout"!==e.link?t.props.history.push(e.link):t.handleLogout()}},r.a.createElement(se.a,null,e.icon),r.a.createElement(me.a,{primary:e.name}))})},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.activate(this.props.location.pathname)}},{key:"render",value:function(){var e=this,a=this.state,t=a.anchorEl,n=a.currentTab,i=a.isDrawerOpen,l=Boolean(t),o=this.props.auth,s=o.isAuthenticated,c=o.user,m=this.props.classes;console.log(this.props);var u=r.a.createElement("div",{className:m.list},s?r.a.createElement("div",null,r.a.createElement(te.a,null,this.makeListItems(Se)),r.a.createElement(re.a,null),r.a.createElement(te.a,null,this.makeListItems(Ne))):r.a.createElement("div",null,r.a.createElement(te.a,null,this.makeListItems(Ce)))),d=r.a.createElement(x.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:this.handleMenuClose},r.a.createElement(A.a,{onClick:function(){e.props.history.push("/profile/".concat(c.name)),e.handleMenuClose()}},"Profil"),r.a.createElement(A.a,{onClick:this.handleLogout},"Wyloguj")),p=r.a.createElement("div",null,r.a.createElement(b.a,{color:"inherit"},r.a.createElement(S.a,{badgeContent:0,color:"secondary"},r.a.createElement(O.a,null))),r.a.createElement(b.a,{color:"inherit",onClick:this.handleProfile},r.a.createElement(S.a,{badgeContent:0,color:"secondary"},r.a.createElement(k.a,null)))),E=r.a.createElement("div",null,r.a.createElement(g.a,{className:m.appbar},r.a.createElement(K,{to:"/login",active:"/login"===n,onClick:function(){return e.activate("/login")}},"Zaloguj"),r.a.createElement(K,{to:"/register",active:"/register"===n,onClick:function(){return e.activate("/register")}},"Za\u0142\xf3\u017c konto")));return r.a.createElement("div",null,r.a.createElement(h.a,{position:"static",color:"primary"},r.a.createElement(g.a,null,r.a.createElement(b.a,{className:m.menuicon,color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer},r.a.createElement(be.a,null)),r.a.createElement(v.a,{variant:"h6",color:"inherit",className:m.title},L),r.a.createElement(g.a,{className:m.appbar},r.a.createElement(K,{to:"/",active:"/"===n,onClick:function(){return e.activate("/")}},"Aukcje"),s&&r.a.createElement(K,{to:"/add",active:"/add"===n,onClick:function(){return e.activate("/add")}},"Dodaj go\u0142\u0119bia")),r.a.createElement("div",{style:{flexGrow:"1"}}),s?p:E)),d,r.a.createElement(ee.a,{open:i,onClose:this.toggleDrawer},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer,onKeyDown:this.toggleDrawer},u)))}}]),a}(n.Component),Te=Object(B.b)(function(e){return{auth:e.auth}},{logoutUser:Y})(Object(X.withStyles)(function(e){return{appbar:Object(d.a)({padding:e.spacing.unit},e.breakpoints.down("sm"),{backgroundColor:"black",display:"none"}),list:{width:250},menuicon:Object(d.a)({display:"none"},e.breakpoints.down("sm"),{display:"flex"}),navbutton:{},title:{margin:"0 1em"}}})(Object(Q.withSnackbar)(xe))),Ae=t(25),De=t.n(Ae),Ie=t(30),Re=t.n(Ie),_e=t(109),Le=t.n(_e),Ue=t(108),We=t.n(Ue),ze=t(88),Fe=t.n(ze),Pe=function(e){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.auction;return r.a.createElement(Re.a,{className:t.card},r.a.createElement(We.a,{className:t.cardactionarea,onClick:function(){return e.props.history.push("/auction/".concat(n.id))}},r.a.createElement("div",{className:t.imagecontainer},r.a.createElement(Le.a,{className:t.image,image:Fe.a,title:"Live from space album cover"})),r.a.createElement("div",{className:t.details},r.a.createElement("div",{className:t.titlearea},r.a.createElement(v.a,{variant:"h6"},n.title),r.a.createElement(v.a,{variant:"subtitle1",color:"textSecondary"},n.description)),r.a.createElement("div",{className:t.pricearea},r.a.createElement(v.a,{variant:"overline",noWrap:!0},"Cena"),r.a.createElement(v.a,{variant:"h6",className:t.typoprice},n.price," z\u0142")))))}}]),a}(n.Component),He=Object(X.withStyles)(function(e){return{card:{},cardactionarea:{display:"flex",justifyContent:"flex-start",alignItems:"stretch",height:"100%"},imagecontainer:{},image:Object(d.a)({width:200,height:140,minWidth:200},e.breakpoints.down("sm"),{width:100,minWidth:100,height:220}),titlearea:Object(d.a)({flexBasis:"100%",padding:e.spacing.unit},e.breakpoints.down("sm"),{}),pricearea:Object(d.a)({flexBasis:"20em",borderLeft:"3px solid ".concat(z),padding:e.spacing.unit,paddingTop:"2em"},e.breakpoints.down("sm"),{flexBasis:"0",paddingTop:e.spacing.unit,borderLeft:"0",borderTop:"3px solid ".concat(z)}),details:Object(d.a)({width:"100%",display:"flex",justifyItems:"space-between",flexDirection:"row"},e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"space-between"}),typoprice:{}}},{withTheme:!0})(Pe),Ke=t(69),Be=t.n(Ke),Ge=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={xs:12,auctions:null},t.props.fetchAuctions(),t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e,a){e.auctions&&(e.auctions.error?this.setState({errors:e.auctions.error}):this.setState({auctions:e.auctions.all.rows}))}},{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state.auctions,n=r.a.createElement("div",{className:a.loader},r.a.createElement(Be.a,{type:"Plane",color:z,height:"100",width:"100"}));return t&&(n=0===t.length?r.a.createElement(Re.a,{className:a.card},"Brak aukcji!"):t.map(function(t){return r.a.createElement(De.a,{item:!0,xs:e.state.xs,className:a.griditem,key:t.title},r.a.createElement(He,{history:e.props.history,auction:t}))})),r.a.createElement(De.a,{container:!0},r.a.createElement("div",{style:{height:"2em"}}),n)}}]),a}(n.Component),Me=Object(B.b)(function(e){return{auctions:e.auctions}},{fetchAuctions:function(){return function(e){M.a.get("/api/auctions/").then(function(a){console.log(a.data),e({type:"FETCH_AUCTIONS",payload:a.data})}).catch(function(a){console.log(a.response.data),e({type:"FETCH_AUCTIONS_FAILED",payload:a.response.data})})}}})(Object(X.withStyles)(function(e){var a;return{griditem:(a={padding:"0.3em",margin:"0 5em"},Object(d.a)(a,e.breakpoints.down("sm"),{margin:0,minWidth:"300px",padding:0,paddingBottom:"0.3em"}),Object(d.a)(a,e.breakpoints.up("xl"),{margin:"0 25em"}),a),loader:{display:"flex",justifyContent:"center",width:"100%"},card:{width:"100%",padding:"2em",margin:"2em",display:"flex",justifyContent:"center"}}})(Ge)),Ze=t(110),qe=t.n(Ze),Ve=function(e){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e={height:"3em",backgroundColor:W,color:"white",padding:"1em",boxShadow:"0 -2px 8px 1px #888888"};return r.a.createElement("div",{style:e},"\xa9 ",(new Date).getFullYear()," ",L,".")}}]),a}(n.Component),Je=t(478),Ye=t(476),Qe=t(195),Xe=t.n(Qe),$e=(t(447),t(55)),ea=t(196),aa=t(116),ta=t(197),na=t.n(ta),ra=t(198),ia=t.n(ra),la=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={error:null,auction:null,like:null,dislike:null},t.props.clearLikes(),t.props.fetchAuctionDetails(t.props.match.params.id),t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e,a){console.log("PROPS",e),e.auctions&&this.setState({auction:e.auctions.current,error:e.auctions.error}),e.users&&(e.users.like&&e.users.like,e.users.like&&e.users.like,e.users.dislike&&e.users.dislike,e.users.dislike&&e.users.dislike,this.setState({like:e.users.like,dislike:e.users.dislike}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.auction,n=a.error,i=a.like,l=a.dislike,o=this.props.classes;console.log("state",this.state),i&&(t.owner.likes+=i),l&&(t.owner.dislikes+=l);var s=r.a.createElement(aa.a,{color:"secondary",className:o.topcarditem,onClick:function(){return e.props.history.push("/")}},"Wr\xf3\u0107"),c=r.a.createElement(aa.a,{color:"secondary",className:o.topcarditem,onClick:function(){return alert("obserwowanie!")}},"Obserwuj"),m=r.a.createElement("div",{className:o.loader},r.a.createElement(Be.a,{type:"Plane",color:z,height:"100",width:"100"}));return n?m=n.auction?r.a.createElement(Re.a,{className:o.card},n.auction," ",s):"unknown error":t&&(m=r.a.createElement("div",null,r.a.createElement(Re.a,{className:o.topcard},s,c),r.a.createElement(Re.a,{className:o.card},r.a.createElement("div",{className:o.flexContainer},r.a.createElement("div",{className:o.gallery},r.a.createElement(Xe.a,{items:[{original:Fe.a,thumbnail:Fe.a}]})),r.a.createElement("div",{className:o.description},r.a.createElement(v.a,{variant:"h3"},t.title),r.a.createElement(v.a,{variant:"h6"},"Sprzedawca: ",t.owner.name),r.a.createElement(v.a,null,r.a.createElement("span",{className:o.bold},"Kontakt: ")," ",t.owner.telephone),r.a.createElement(v.a,null,r.a.createElement("span",{className:[o.bold,o.greencolor].join(" ")},r.a.createElement(b.a,{onClick:function(){e.props.likeUser(t.owner.name)}},r.a.createElement(na.a,null)),t.owner.likes)," ",r.a.createElement("span",{className:[o.bold,o.redcolor].join(" ")},r.a.createElement(b.a,{onClick:function(){e.props.dislikeUser(t.owner.name)}},r.a.createElement(ia.a,null)),t.owner.dislikes)),r.a.createElement(v.a,null,r.a.createElement("span",{className:o.bold},"Wy\u015bwietlenia: ")," ",t.viewsCount),r.a.createElement($e.a,null),r.a.createElement(v.a,null,r.a.createElement("span",{className:o.bold},"Do ko\u0144ca: "),r.a.createElement(ea.a,{date:t.endDate,renderer:function(e){return e.completed?"Zako\u0144czono!":r.a.createElement("span",null,e.days," dni, ",e.hours," godzin, ",e.minutes," minut, ",e.seconds," sekund.")}})),r.a.createElement("div",{style:{marginTop:"4em"}}),r.a.createElement(v.a,{variant:"h4",style:{fontWeight:"600",color:z}},t.price," z\u0142"),r.a.createElement("div",{style:{marginTop:"3em"}}))),r.a.createElement(De.a,{container:!0,spacing:24},r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"h6"},"Opis"),r.a.createElement($e.a,{style:{marginBottom:"1em"}}),t.description))))),r.a.createElement("div",{style:{width:"100%"}},m)}}]),a}(n.Component),oa=Object(B.b)(function(e){return{auth:e.auth,auctions:e.auctions,users:e.users}},{fetchAuctionDetails:function(e){return function(a){M.a.get("/api/auctions/".concat(e)).then(function(e){console.log(e.data),a({type:"FETCH_AUCTION_DETAILS",payload:e.data})}).catch(function(e){console.log(e.response.data),a({type:"FETCH_AUCTION_DETAILS_FAILED",payload:e.response.data})})}},likeUser:function(e){return function(a){M.a.get("/api/users/like/".concat(e)).then(function(e){console.log(e.data),a({type:"LIKE_USER",payload:e.data})}).catch(function(e){console.log(e.response.data),a({type:"LIKE_USER_FAILED",payload:e.response.data})})}},dislikeUser:function(e){return function(a){M.a.get("/api/users/dislike/".concat(e)).then(function(e){console.log(e.data),a({type:"DISLIKE_USER",payload:e.data})}).catch(function(e){console.log(e.response.data),a({type:"DISLIKE_USER_FAILED",payload:e.response.data})})}},clearLikes:function(){return function(e){e({type:"CLEAR_LIKES"})}}})(Object(Q.withSnackbar)(Object(X.withStyles)(function(e){return{container:Object(d.a)({width:"100%",margin:"2em"},e.breakpoints.down("sm"),{marginTop:"0.3em"}),card:Object(d.a)({padding:"2em",margin:"2em auto",maxWidth:"80%"},e.breakpoints.down("sm"),{maxWidth:"100%",margin:0,padding:0}),topcard:Object(d.a)({padding:"0.6em",margin:"2em auto",maxWidth:"80%",display:"flex"},e.breakpoints.down("sm"),{maxWidth:"100%",margin:0,padding:"0.3em"}),topcarditem:{margin:"0.3em"},flexContainer:Object(d.a)({display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"left",margin:0,padding:0}),gallery:Object(d.a)({flexGrow:"1",maxWidth:"50%",padding:"0.3em"},e.breakpoints.down("sm"),{padding:0,maxWidth:"100%"}),description:Object(d.a)({flexGrow:"1",padding:"2em"},e.breakpoints.down("sm"),{padding:"0.3em"}),loader:{display:"flex",justifyContent:"center"},bold:{fontWeight:600},greencolor:{color:"green"},redcolor:{color:"red"}}})(la))),sa=t(45),ca=t(57),ma=t(56),ua=t(477),da=t(90),pa=t(87),ha=t.n(pa),Ea=t(83),ga=t.n(Ea),fa=t(82),ba=t.n(fa),ya=t(85),va=t.n(ya),wa=t(81),ka=t.n(wa),ja=t(84),Oa=t.n(ja),Ca=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={title:"",description:"",price:"",endDate:7,images:[],errors:{},labelWidth:0},t.handleChange=function(e){return function(a){var n;t.setState((n={},Object(d.a)(n,e,a.target.value),Object(d.a)(n,"errors",Object(sa.a)({},t.state.errors,Object(d.a)({},e,null))),n))}},t.onSubmit=function(e){e.preventDefault();var a={title:t.state.title,description:t.state.description,price:t.state.price,endDate:t.state.endDate,images:t.state.images};t.props.createAuction(a)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({labelWidth:l.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"componentWillReceiveProps",value:function(e,a){e.auctions&&(e.auctions.error?this.setState({errors:e.auctions.error}):(this.props.enqueueSnackbar("Utworzono aukcj\u0119 ".concat(e.auctions.current.title),{variant:"success"}),this.props.history.push("/auction/".concat(e.auctions.current.id))))}},{key:"render",value:function(){var e=this,a=this.state.errors,t=this.props.auth.isAuthenticated,n=this.props.classes;return r.a.createElement("div",null,!t&&r.a.createElement(ua.a,{to:"/"}),r.a.createElement(ca.a,{className:n.card},r.a.createElement("div",{className:n.cardtitle},r.a.createElement(ma.a,{variant:"h4"},"Nowy go\u0142\u0105b")),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement(da.a,{id:"title",label:"Tytu\u0142",name:"title",onChange:this.handleChange("title"),variant:"outlined",value:this.state.title,helperText:a.title&&a.title,error:a.title&&!0,className:n.textfield}),r.a.createElement(da.a,{id:"description",label:"Opis",name:"description",onChange:this.handleChange("description"),variant:"outlined",value:this.state.description,helperText:a.description&&a.description,error:a.description&&!0,className:n.textfield,multiline:!0}),r.a.createElement(da.a,{id:"price",label:"Cena",name:"price",onChange:this.handleChange("price"),variant:"outlined",value:this.state.price,helperText:a.price&&a.price,error:a.price&&!0,className:n.textfieldsmall,InputProps:{startAdornment:r.a.createElement(ha.a,{position:"start"},"PLN")}}),r.a.createElement(ga.a,{variant:"outlined",className:n.textfieldsmall},r.a.createElement(ba.a,{ref:function(a){e.InputLabelRef=a}},"Czas"),r.a.createElement(va.a,{value:this.state.endDate,onChange:this.handleChange("endDate"),input:r.a.createElement(ka.a,{labelWidth:this.state.labelWidth,name:"endDate",id:"endDate",error:a.endDate&&!0})},r.a.createElement(A.a,{value:1},"1 dzie\u0144"),r.a.createElement(A.a,{value:2},"2 dni"),r.a.createElement(A.a,{value:4},"4 dni"),r.a.createElement(A.a,{value:7},"7 dni"),r.a.createElement(A.a,{value:14},"14 dni"),r.a.createElement(A.a,{value:31},"31 dni")),r.a.createElement(Oa.a,{error:!0},a.endDate&&a.endDate)),r.a.createElement(da.a,{id:"images",disabled:!0,label:"Zdj\u0119cia",name:"images",onChange:this.handleChange("images"),variant:"outlined",value:this.state.images,helperText:a.images&&a.images,error:a.images&&!0,className:n.textfield,InputProps:{startAdornment:r.a.createElement(ha.a,{position:"start"},"ZDJ\u0118CIA")}}),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary",className:"width-100"},"Dodaj go\u0142\u0119bia"))))}}]),a}(n.Component),Sa=Object(B.b)(function(e){return{auth:e.auth,auctions:e.auctions}},{createAuction:function(e){return function(a){M.a.post("/api/auctions/",e).then(function(e){console.log(e.data),a({type:"CREATE_AUCTION",payload:e.data})}).catch(function(e){console.log(e.response.data),a({type:"CREATE_AUCTION_FAILED",payload:e.response.data})})}}})(Object(X.withStyles)(function(e){return{card:Object(d.a)({padding:"2em",margin:"2em auto",maxWidth:"80%",display:"flex",flexDirection:"column"},e.breakpoints.down("sm"),{maxWidth:"100%",margin:0,padding:"0.3em"}),topcard:Object(d.a)({padding:"0.6em",margin:"2em auto",maxWidth:"80%",display:"flex"},e.breakpoints.down("sm"),{maxWidth:"100%",margin:0,padding:"0.3em"}),topcarditem:{margin:"0.3em"},cardtitle:{display:"flex",justifyContent:"center"},textfield:{width:"100%",margin:"1em 0"},textfieldsmall:{margin:"1em 0",marginRight:"2em",minWidth:120},enddate:{margin:e.spacing.unit,minWidth:120}}})(Object(Q.withSnackbar)(Ca))),Na=function(e){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Osttantnie aukcje xDDD")}}]),a}(n.Component),xa=function(e){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Archiwuuuuum")}}]),a}(n.Component),Ta=t(66),Aa=t.n(Ta),Da=t(64),Ia=t.n(Da),Ra=t(33),_a=t.n(Ra),La=t(65),Ua=t.n(La),Wa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",password:"",errors:{}},t.handleChange=function(e){return function(a){var n;t.setState((n={},Object(d.a)(n,e,a.target.value),Object(d.a)(n,"errors",Object(sa.a)({},t.state.errors,Object(d.a)({},e,null))),n))}},t.onSubmit=function(e){e.preventDefault();var a={name:t.state.name,password:t.state.password};t.props.loginUser(a)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e,a){e.errors&&(console.log(e.errors),this.setState({errors:e.errors})),e.auth.isAuthenticated&&this.props.enqueueSnackbar("Zalogowano pomy\u015blnie.",{variant:"success"})}},{key:"render",value:function(){var e=this.state.errors,a=this.props.auth.isAuthenticated,t=this.props.classes;return r.a.createElement("div",null,a&&r.a.createElement(ua.a,{to:"/"}),r.a.createElement(Re.a,{className:t.card},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement(Ia.a,{className:"card-content"},r.a.createElement(Ua.a,{style:{width:60,height:60,margin:"0 auto",backgroundColor:z}},r.a.createElement(de.a,null)),r.a.createElement(v.a,{variant:"h4",component:"h2",style:{marginTop:"0.5em",marginBottom:"1.4em"}},"Logowanie"),r.a.createElement(De.a,{container:!0,spacing:16},r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"name",label:"Nazwa u\u017cytkownika",name:"name",onChange:this.handleChange("name"),className:"width-100",value:this.state.name,helperText:e.name&&e.name,error:e.name&&!0})),r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"password",label:"Has\u0142o",name:"password",onChange:this.handleChange("password"),type:"password",className:"width-100",value:this.state.password,helperText:e.password&&e.password,error:e.password&&!0})))),r.a.createElement(re.a,null),r.a.createElement(Aa.a,null,r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary",className:"width-100"},"Zaloguj"),r.a.createElement(K,{to:"/"},"Wr\xf3\u0107")))),U)}}]),a}(n.Component),za=Object(B.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(a){M.a.post("/api/users/login",e).then(function(e){console.log(e.data);var t=e.data.token;localStorage.setItem("jwtToken",t),Z(t);var n=V()(t);a(J(n))}).catch(function(e){console.log(e),a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(Q.withSnackbar)(Object(X.withStyles)(function(e){return{container:Object(d.a)({width:"100%"},e.breakpoints.down("sm"),{}),card:Object(d.a)({width:"25em",margin:"5em auto"},e.breakpoints.down("sm"),{width:"100%",margin:0,marginBottom:"1em"})}})(Wa))),Fa=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={firstName:"",lastName:"",name:"",email:"",password:"",password2:"",telephone:"",address:"",errors:{}},t.handleChange=function(e){return function(a){var n;t.setState((n={},Object(d.a)(n,e,a.target.value),Object(d.a)(n,"errors",Object(sa.a)({},t.state.errors,Object(d.a)({},e,null))),n))}},t.onSubmit=function(e){e.preventDefault();var a={firstName:t.state.firstName,lastName:t.state.lastName,name:t.state.name,email:t.state.email,password:t.state.password,password2:t.state.password2,telephone:t.state.telephone,address:t.state.address};t.props.registerUser(a)},t.props.clearRegister(),t.props.clearErrors(),t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e,a){e.errors&&this.setState({errors:e.errors}),e.auth&&e.auth.registerSuccess&&(e.auth.registerSuccess?(this.setState({registerSuccess:!0}),this.props.enqueueSnackbar("Konto utworzone pomy\u015blnie. Mo\u017cesz si\u0119 teraz zalogowa\u0107.",{variant:"success"})):e.auth.isAuthenticated&&this.props.enqueueSnackbar("Masz ju\u017c konto.",{variant:"error"}))}},{key:"render",value:function(){var e=this.state,a=e.errors,t=e.registerSuccess,n=this.props.auth.isAuthenticated,i=this.props.classes;return r.a.createElement("div",{className:i.container},(t||n)&&r.a.createElement(ua.a,{to:"/"}),r.a.createElement(Re.a,{className:i.card},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit},r.a.createElement(Ia.a,{className:"card-content"},r.a.createElement(Ua.a,{style:{width:60,height:60,margin:"0 auto",backgroundColor:z}},r.a.createElement(de.a,null)),r.a.createElement(v.a,{variant:"h4",component:"h2",style:{marginTop:"0.5em",marginBottom:"1.4em"}},"Rejestracja"),r.a.createElement(De.a,{container:!0,spacing:16},r.a.createElement(De.a,{item:!0,xs:6},r.a.createElement(_a.a,{id:"firstName",label:"Imi\u0119",name:"firstName",onChange:this.handleChange("firstName"),className:"width-100",value:this.state.firstName,helperText:a.firstName&&a.firstName,error:a.firstName&&!0})),r.a.createElement(De.a,{item:!0,xs:6},r.a.createElement(_a.a,{id:"lastName",label:"Nazwisko",name:"lastName",onChange:this.handleChange("lastName"),className:"width-100",value:this.state.lastName,helperText:a.lastName&&a.lastName,error:a.lastName&&!0})),r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"name",label:"Nazwa u\u017cytkownika",name:"name",onChange:this.handleChange("name"),className:"width-100",value:this.state.name,helperText:a.name&&a.name,error:a.name&&!0})),r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"email",label:"E-mail",name:"email",onChange:this.handleChange("email"),className:"width-100",value:this.state.email,helperText:a.email&&a.email,error:a.email&&!0})),r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"password",label:"Has\u0142o",name:"password",onChange:this.handleChange("password"),type:"password",className:"width-100",value:this.state.password,helperText:a.password&&a.password,error:a.password&&!0})),r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"password2",label:"Powt\xf3rz has\u0142o",name:"password2",onChange:this.handleChange("password2"),type:"password",className:"width-100",value:this.state.password2,helperText:a.password2&&a.password2,error:a.password2&&!0})),r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"telephone",label:"Numer telefonu",name:"telephone",onChange:this.handleChange("telephone"),className:"width-100",value:this.state.telephone,helperText:a.telephone&&a.telephone,error:a.telephone&&!0})),r.a.createElement(De.a,{item:!0,xs:12},r.a.createElement(_a.a,{id:"address",label:"Adres",name:"address",onChange:this.handleChange("address"),type:"textarea",className:"width-100",value:this.state.address,helperText:a.address&&a.address,error:a.address&&!0})))),r.a.createElement(re.a,null),r.a.createElement(Aa.a,null,r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary",className:"width-100"},"Utw\xf3rz konto"),r.a.createElement(K,{to:"/"},"Wr\xf3\u0107")))),U)}}]),a}(n.Component),Pa=Object(B.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e){return function(a){M.a.post("/api/users/register",e).then(function(e){console.log(e.data),a({type:"REGISTER_SUCCESS",payload:"success"})}).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data})})}},clearRegister:function(){return function(e){e({type:"CLEAR_REGISTER"})}},clearErrors:function(){return function(e){e({type:"CLEAR_ERRORS"})}}})(Object(Q.withSnackbar)(Object(X.withStyles)(function(e){return{container:Object(d.a)({width:"100%"},e.breakpoints.down("sm"),{}),card:Object(d.a)({width:"25em",margin:"1em auto"},e.breakpoints.down("sm"),{width:"100%",margin:0,marginBottom:"1em"})}})(Fa))),Ha=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).props.fetchUserDetails(t.props.match.params.name),t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=r.a.createElement("div",{className:e.loader},r.a.createElement(Be.a,{type:"Plane",color:z,height:"100",width:"100"}));if(this.props.user){var t=this.props.user,n=(t.id,t.name),i=t.firstName,l=t.lastName,o=t.email,s=t.address,c=t.telephone,m=t.date,u=t.likes,d=t.dislikes;a=r.a.createElement("div",null,r.a.createElement(ca.a,{className:e.card},r.a.createElement(ma.a,{variant:"h4"},i," ",l)),r.a.createElement(ca.a,{className:e.card},r.a.createElement(ma.a,{variant:"h5"},"Dane profilowe"),r.a.createElement($e.a,null),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Nazwa u\u017cytkownika: ",n,","),r.a.createElement("li",null,"Email: ",o,","),r.a.createElement("li",null,"Telefon: ",c,","),r.a.createElement("li",null,"Adres zamieszkania: ",s,","),r.a.createElement("li",null,"Pozytywy: ",u.length,","),r.a.createElement("li",null,"Negatywy: ",d.length,","),r.a.createElement("li",null,"Data do\u0142\u0105czenia: ",m,",")))),r.a.createElement(ca.a,{className:e.card},r.a.createElement(ma.a,{variant:"h5"},"Twoje aukcje"),r.a.createElement($e.a,null)),r.a.createElement(ca.a,{className:e.card},r.a.createElement(ma.a,{variant:"h5"},"Twoje obserwowane aukcje"),r.a.createElement($e.a,null)))}return r.a.createElement("div",null,a)}}]),a}(n.Component),Ka=Object(B.b)(function(e){return{user:e.users.user,errors:e.users.error,auth:e.auth}},{fetchUserDetails:function(e){return function(a){M.a.get("/api/users/profile/".concat(e)).then(function(e){console.log(e.data),a({type:"FETCH_USER_DETAILS",payload:e.data})}).catch(function(e){console.log(e.response.data),a({type:"FETCH_USER_DETAILS_FAILED",payload:e.response.data})})}}})(Object(X.withStyles)(function(e){return{loader:{display:"flex",justifyContent:"center",width:"100%"},card:Object(d.a)({padding:"2em",margin:"2em auto",maxWidth:"80%",display:"flex",flexDirection:"column"},e.breakpoints.down("sm"),{maxWidth:"100%",margin:0,padding:"1em"})}})(Ha)),Ba=Object(X.createMuiTheme)({palette:{primary:I.a,secondary:_.a},typography:{useNextVariants:!0}}),Ga=function(e){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(Je.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(X.MuiThemeProvider,{theme:Ba},r.a.createElement(Ye.a,{path:"/",component:Te}),r.a.createElement("main",{style:{flex:1}},r.a.createElement(Ye.a,{exact:!0,path:"/",component:Me}),r.a.createElement(Ye.a,{exact:!0,path:"/add",component:Sa}),r.a.createElement(Ye.a,{exact:!0,path:"/last",component:Na}),r.a.createElement(Ye.a,{exact:!0,path:"/archive",component:xa}),r.a.createElement(Ye.a,{exact:!0,path:"/auction/:id",component:oa}),r.a.createElement(Ye.a,{exact:!0,path:"/register",component:Pa}),r.a.createElement(Ye.a,{exact:!0,path:"/login",component:za}),r.a.createElement(Ye.a,{exact:!0,path:"/profile",component:Ka}),r.a.createElement(Ye.a,{exact:!0,path:"/profile/:name",component:Ka})),r.a.createElement("footer",null,r.a.createElement(Ye.a,{path:"/",component:Ve})),r.a.createElement(qe.a,null))))}}]),a}(n.Component),Ma=t(54),Za=t(199),qa=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},Va={isAuthenticated:!1,user:{}},Ja={},Ya={current:null},Qa={like:!1,dislike:!1,error:null},Xa=Object(Ma.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REGISTER_SUCCESS":return Object(sa.a)({},e,{registerSuccess:!0});case"SET_CURRENT_USER":return Object(sa.a)({},e,{isAuthenticated:!qa(a.payload),user:a.payload});case"CLEAR_REGISTER":return Object(sa.a)({},e,{registerSuccess:null});default:return e}},auctions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_AUCTION_DETAILS":return{error:null,current:a.payload};case"FETCH_AUCTION_DETAILS_FAILED":return{error:a.payload,current:null};case"CREATE_AUCTION":return{error:null,current:a.payload};case"CREATE_AUCTION_FAILED":return{error:a.payload,current:null};case"FETCH_AUCTIONS":return{error:null,all:a.payload};case"FETCH_AUCTIONS_FAILED":return{error:a.payload,all:[]};default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return a.payload;case"CLEAR_ERRORS":return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LIKE_USER":return{error:null,like:a.payload.like,dislike:!1};case"LIKE_USER_FAILED":return{error:a.payload,like:!1,dislike:!1};case"DISLIKE_USER":return{error:null,dislike:a.payload.dislike,like:!1};case"DISLIKE_USER_FAILED":return{error:a.payload,dislike:!1,like:!1};case"CLEAR_LIKES":return{error:null,dislike:null,like:null};case"FETCH_USER_DETAILS":return{error:null,user:a.payload};case"FETCH_USER_DETAILS_FAILED":return{error:a.payload,user:null};default:return e}}}),$a=[Za.a],et=Object(Ma.d)(Xa,{},Ma.a.apply(void 0,$a));if(localStorage.jwtToken){Z(localStorage.jwtToken);var at=V()(localStorage.jwtToken);et.dispatch(J(at)),at.exp<Date.now()/1e3&&(et.dispatch(Y()),window.location.href="/login")}var tt=r.a.createElement(B.a,{store:et},r.a.createElement(Q.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(Ga,null)));l.a.render(tt,document.getElementById("root"))},88:function(e,a,t){e.exports=t.p+"static/media/background.bc3ebb15.jpg"}},[[258,2,1]]]);
//# sourceMappingURL=main.b165ce63.chunk.js.map